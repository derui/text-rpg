# ゲームターンの定義 #
システムで定義するターンは、非常にシンプルな仕組みとなっており、互いに一回ずつ行動する。

ただし、ターンが進行する条件はプレイヤーと敵側で異なる。システムでは、プレイヤーの入力を待ち受けており、入力が行われて初めてターンが進行する。

# 場面について #
場面とは、プレイヤーの入力をハンドリングする機能セットをまとめ、他の場面への遷移機能までを定義したものを指す。

場面ごとの遷移は、ステートマシンとして定義される。遷移処理自体は、それぞれの場面の中で定義するが、事前に遷移先を宣言しなければならない。宣言した場面以外に遷移することは出来ない。

# 場面における入力 #
各場面で行うことが出来る入力は、原則的に入力を待ち受けるスレッドで行われる。各シーンは、それぞれのハンドラを定義することで、スレッドが異なっているということを意識すること無く、ハンドリングすることが出来る。

入力ハンドラは、LWTモナドを利用して進められる。そのため、シーン自体の状態によっては、入力を無視してターンを進めることが出来る。

# 場面における状態 #
それぞれの場面からは、全体の状態と、各場面に固有の状態を持つことが出来る。ただし、その状態はLwt_mvarで提供され、入力ハンドラからアクセスする際には、基本的に何らかの入力が必要となるケースが大半となる。



